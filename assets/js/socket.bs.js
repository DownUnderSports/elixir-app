// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE

import * as Phoenix from "phoenix";

console.log(window.location.search.split("=")[1]);

var _params = {
  token: window.userToken,
  user_id: window.location.search.split("=")[1]
};

var _opts = {
  params: _params
};

var socket = new Phoenix.Socket("/socket", _opts);

var channel = socket.channel("page:lobby", { });

var presence = new Phoenix.Presence(channel);

var onPresenceSync = (
    () => {
      let result = ''
      presence.list((id, {metas: [first, ...rest]}) => {
        let count = rest.length + 1
        result += `${id} (count: ${count})\n`
      })
      console.log(result)
    }
  );

presence.onSync(onPresenceSync);

socket.connect();

channel.join();

var $$default = socket;

export {
  _params ,
  _opts ,
  socket ,
  channel ,
  presence ,
  onPresenceSync ,
  $$default ,
  $$default as default,
  
}
/*  Not a pure module */
